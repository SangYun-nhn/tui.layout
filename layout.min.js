!function t(e,i,n){function s(h,l){if(!i[h]){if(!e[h]){var u="function"==typeof require&&require;if(!l&&u)return u(h,!0);if(o)return o(h,!0);var r=new Error("Cannot find module '"+h+"'");throw r.code="MODULE_NOT_FOUND",r}var a=i[h]={exports:{}};e[h][0].call(a.exports,function(t){var i=e[h][1][t];return s(i?i:t)},a,a.exports,t,e,i,n)}return i[h].exports}for(var o="function"==typeof require&&require,h=0;h<n.length;h++)s(n[h]);return s}({1:[function(t,e,i){tui.util.defineNamespace("tui.component.Layout",t("./src/layout"))},{"./src/layout":5}],2:[function(t,e,i){var n=t("./statics"),s=t("./item"),o=tui.util.defineClass({$pool:$('<div class="pool" style="display:none"></div>'),init:function(t){if(!t)throw new Error(n.ERROR.OPTIONS_NOT_DEFINED);this.size=t.ratio+"%",this.id=t.id,this._makeElement(t.html||n.HTML.GROUP),this._makeItems(t.items),this._appendDimmed(),this.render()},_makeElement:function(t){t=this._getHtml(t,{"group-id":this.id}),this.$element=$(t),this.$element.css({position:"relative",width:this.size})},_getHtml:function(t,e){return t=t.replace(/\{\{([^\}]+)\}\}/g,function(t,i){return e[i]})},_makeItems:function(t){var e={groupInfo:this.id};this.list=tui.util.map(t,function(t){return tui.util.extend(t,e),new s(t)},this)},_makeDimmed:function(){this.$dimmed=$('<div class="'+n.DIMMED_LAYER_CLASS+'"></div>'),this.$dimmed.css({position:"absolute",left:0,top:0,bottom:0,right:0,display:"none"})},_appendDimmed:function(){this.$dimmed||this._makeDimmed(),this.$element.append(this.$dimmed)},remove:function(t){this.storePool(this.list[t]),this.list.splice(t,1)},add:function(t,e){arguments.length>1?this.list.splice(e,0,t):this.list.push(t),t.groupInfo=this.id},render:function(){tui.util.forEach(this.list,function(t,e){this.$dimmed.before(t.$element),t.index=e,t.$element.attr({"data-index":e,"data-groupInfo":this.id})},this),this.$dimmed.hide()},storePool:function(t){t?this.$pool.append(t):tui.util.forEach(this.list,function(t){this.$pool.append(t.$element)},this)}});e.exports=o},{"./item":4,"./statics":6}],3:[function(t,e,i){var n=t("./statics"),s=tui.util.defineClass({init:function(t){t=t||{},this.$element=$(t.guideHTML||n.HTML.GUIDE),this.$element.css("position","absolute"),this.$element.appendTo(document.body),this.$dimElements=$("."+n.DIMMED_LAYER_CLASS),this.hide()},ready:function(t,e){this.setPos(t),this.$dimElements.show(),e&&this.setContent(e),this.$element.show()},finish:function(){this.$dimElements.hide(),this.$element.hide()},moveTo:function(t){this.setPos(t)},setPos:function(t){this.$element.css({left:t.x,top:t.y})},setContent:function(t){this.$element.empty(),this.$element.append(t.clone()),this.$element.css({width:t.width()+"px",height:t.height()+"px"})},show:function(){this.isDisable||this.$element.show()},hide:function(){this.$element.hide()},disable:function(){this.isDisable=!0},enable:function(){this.isDisable=!1},setMoveElement:function(t){this.$moveElement=t},getScrollLeft:function(){return window.scrollX||$(window).scrollLeft()},getScrollTop:function(){return window.scrollY||$(window).scrollTop()}});e.exports=s},{"./statics":6}],4:[function(t,e,i){var n=t("./statics"),s=tui.util.defineClass({init:function(t){if(!t)throw new Error(n.ERROR.OPTIONS_NOT_DEFINED);tui.util.extend(t,{elementHTML:t.elementHTML||n.HTML.ELEMENT,moveButtonHTML:t.moveButtonHTML||n.HTML.MOVEBUTTON,titleHTML:t.titleHTML||n.HTML.TITLE,toggleButtonHTML:t.toggleButtonHTML||n.HTML.TOGGLEBUTTON,title:t.title||n.TEXT.DEFAULT_TITLE}),tui.util.extend(this,t),this._makeElement(),tui.util.isBoolean(this.isClose)||this.fixTitle(),this.isClose?this.close():this.open(),this.$content.append($("#"+this.contentId)),this.$element.attr("id","item_id_"+this.contentId),this._setEvents()},getIndex:function(){return this.index},_makeElement:function(){var t=this.wrapperClass||n.DEFAULT_WRPPER_CLASS,e=this._getHtml(this.elementHTML,{number:this.index,wrapper:t});this.$element=$(e),this.$element.css("position","relative"),this.$content=this.$element.find("."+t),this.isDraggable=!!this.isDraggable,this._makeTitle()},_makeTitle:function(){this.$titleElement=$(this.titleHTML),this.$titleElement.html(this.title),this.isDraggable&&this._makeDragButton(this.moveButtonHTML),this.$content.before(this.$titleElement),this._makeToggleButton(this.toggleButtonHTML)},_getHtml:function(t,e){return t=t.replace(/\{\{([^\}]+)\}\}/g,function(t,i){return e[i]})},_makeDragButton:function(t){t=this._getHtml(t,{"item-id":"item_id_"+this.contentId}),this.$titleElement.append($(t))},_makeToggleButton:function(t){this.$toggleButton=$(t),this.$titleElement.append(this.$toggleButton)},close:function(){this.$toggleButton.addClass("open"),this.$content.hide()},open:function(){this.$toggleButton.removeClass("open"),this.$content.show()},fixTitle:function(){this.showTitle(),this.isTitleFix=!0},showTitle:function(){this.$titleElement.show()},hideTitle:function(){this.isTitleFix||this.$titleElement.hide()},toggle:function(){this.$toggleButton.hasClass("open")?this.open():this.close()},_setEvents:function(){this.$toggleButton.on("click",$.proxy(this.toggle,this))}});e.exports=s},{"./statics":6}],5:[function(t,e,i){var n=t("./statics"),s=t("./group"),o=t("./guide"),h=tui.util.defineClass({init:function(t,e){this.$element=e,this._makeGroup(t.grouplist),this._makeGuide(t.guideHTML),this._setEvents()},_makeGroup:function(t){var e;this.groups={},tui.util.forEach(t,function(t){e=this.groups[t.id]=new s(t),this.$element.append(e.$element)},this)},_getGroup:function(t){return tui.util.isObject(t)&&(t=t.attr("data-group")?t.attr("data-group"):t.parent().attr("data-group")),this.groups[t]},_makeGuide:function(t){this._guide=new o({guideHTML:t})},_setEvents:function(){this.onMouseDown=$.proxy(this._onMouseDown,this),this.onMouseMove=$.proxy(this._onMouseMove,this),this.onMouseUp=$.proxy(this._onMouseUp,this),$(".drag-item-move").on("mousedown",this.onMouseDown)},_onMouseDown:function(t){var e=$(document);this.height(e.height()),this._setGuide(t.target,t.clientX,t.clientY),e.on("mousemove",this.onMouseMove),e.on("mouseup",this.onMouseUp)},_setGuide:function(t,e,i){var n=$(document),s={x:e+n.scrollLeft()+10,y:i+n.scrollTop()+10},o=$(t).attr("data-item"),h=$("#"+o);this._guide.ready(s,h),this._guide.setMoveElement(h),this.$temp=h,this._lockTemp()},_lockTemp:function(){var t=this._getGroup(this.$temp),e=t.list[this.$temp.attr("data-index")];this.$temp.css("opacity","0.2"),this.$temp.find("#"+e.contentId).css("visibility","hidden")},_unlockTemp:function(){var t=this._getGroup(this.$temp),e=t.list[this.$temp.attr("data-index")];this.$temp.css("opacity","1"),this.$temp.find("#"+e.contentId).css("visibility","visible")},_onMouseMove:function(t){var e,i,n,s,o;e=$(t.target).parent(),i=$(document),n=t.clientX+i.scrollLeft(),s=t.clientY+i.scrollTop(),o=e.attr("data-group"),this._setScrollState(n,s),this._moveGuide(n,s),o&&this._detectMove(e,n,s)},_setScrollState:function(t,e){var i=$(document),n=$(window),s=this.height(),o=n.height(),h=i.scrollTop(),l=s-o;e>o+h&&i.scrollTop(Math.min(h+(e-o+h),l))},height:function(t){return tui.util.isUndefined(t)?this._height:void(this._height=t)},_detectMove:function(t,e,i){var n,s=$(document),o=this._getGroup(t),h=(t.attr("data-group"),s.scrollTop()),l=s.scrollLeft();tui.util.isEmpty(o.list)?(t.append(this.$temp),this.height(s.height()),this.$temp.way="after",this.$temp.index=0):(n=this._detectTargetByPosition({x:e+l,y:i+h},o),n&&n.way&&(n[n.way](this.$temp),this.height(s.height()),this.$temp.way=n.way,this.$temp.index=n.attr("data-index")))},_moveGuide:function(t,e){this._guide.moveTo({x:t+10+"px",y:e+10+"px"})},_detectTargetByPosition:function(t,e){var i;return tui.util.forEach(e.list,function(n){this._isValidItem(n)&&(i=this._getTarget(n,t,e)||i)},this),i},_getTarget:function(t,e,i){var n,s=t.$element.offset(),o=this._getBottom(t,i),h=t.$element.height(),l=$(document).scrollTop()+s.top;return e.y>l&&e.y<=l+h/2?(n=t.$element,n.way="before"):e.y>l+h/2&&e.y<o&&(n=t.$element,n.way="after"),n},_isValidItem:function(t){return t.$element[0]!==this.$temp[0]},_getBottom:function(t,e){var i,s=t.$element.next(),o=$(document),h=e.$element.offset(),l=o.scrollTop()+h.top+e.$element.height();return i=s.hasClass(n.DIMMED_LAYER_CLASS)?l:o.scrollTop()+s.offset().top},_getAddIndex:function(){var t=this.$temp,e=parseInt(t.index,10);return"after"===t.way&&(e+=1),e},_onMouseUp:function(t){var e=this._guide,i=$(document),n=this._getGroup(this.$temp.attr("data-groupInfo"));this._detectTargetByPosition({x:t.clientX+i.scrollLeft(),y:t.clientY+i.scrollTop()},n);this._update(),this._unlockTemp(),e.finish(),i.off("mousemove",this.onMouseMove),i.off("mouseup",this.onMouseUp)},_update:function(){var t=this.$temp,e=this._getGroup(t.attr("data-groupInfo")),i=this._getGroup(t.parent()),n=parseInt(t.attr("data-index"),10),s=this._getAddIndex(),o=e.list[n];isNaN(s)||(e.storePool(),i.storePool(),e.remove(n),i.add(o,s),i.render(),e.render())}});e.exports=h},{"./group":2,"./guide":3,"./statics":6}],6:[function(t,e,i){e.exports={HTML:{MOVEBUTTON:'<button class="move-button drag-item-move" data-item="{{item-id}}">move</button>',ELEMENT:'<div class="item" data-index="{{number}}"><div class="{{wrapper}}"></div></div>',TITLE:'<div class="title"></div>',TOGGLEBUTTON:'<button class="toggle-button">toggle</button>',GROUP:'<div class="group gp_{{group-id}}" data-group="{{group-id}}"></div>',GUIDE:'<div class="item-guide"></div>'},TEXT:{DEFAULT_TITLE:"no title"},ERROR:{OPTIONS_NOT_DEFINED:"options are not defined"},DEFAULT_WRPPER_CLASS:"item-body",DIMMED_LAYER_CLASS:"dimmed-layer"}},{}]},{},[1]);